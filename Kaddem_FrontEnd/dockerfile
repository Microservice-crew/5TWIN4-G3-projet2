# Stage 1: Construire l'application Angular
FROM node:16.20.2 as builder

WORKDIR /app

COPY . .

RUN npm uninstall -D angular-cli --legacy-peer-deps

RUN npm install --force

# Stage 2: Cr√©er l'image Nginx pour servir l'application construite
FROM docker.io/nginx:latest

COPY --from=builder /app/dist/kaddem /usr/share/nginx/html

EXPOSE 4200
